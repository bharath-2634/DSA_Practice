Question:https://leetcode.com/problems/count-number-of-homogenous-substrings/description/

Solution: 
/*
This is my naive solution which takes around O(n^3) 
class Solution {

    public int getCountMatch(String match,String s) {
        int count=0,idx=0;

        while(idx<s.length()-match.length()+1) {
            String sub = s.substring(idx,idx+match.length());
            // System.out.println(sub);
            if(match.equals(sub)) {
                count++;
            }
            idx++;
        }

        return count;
    }

    public int countHomogenous(String s) {
        Map<Character,Integer> rMap = new HashMap<>();
        for(char c : s.toCharArray()) {
            rMap.put(c,rMap.getOrDefault(c,0)+1);
        }   
        
        int total_home=0;
        // for(int val: rMap.values()) total_home+=val;

        for(Map.Entry<Character,Integer> e : rMap.entrySet()) {
            char key = e.getKey();
            int count = e.getValue();
            StringBuilder sb = new StringBuilder();
            for(int i=0;i<count;i++) {
                sb.append(key);
                // System.out.println("match: "+sb);
                total_home+=getCountMatch(sb.toString(),s);
            }
            // System.out.println("closed");
        }

        return total_home;
    }
}

*/

class Solution {
    private static final int MOD = 1_000_000_007;
    
    public int countHomogenous(String s) {
        long res=0;
        int count=1;

        for(int i=1;i<s.length();i++) {
            if(s.charAt(i)==s.charAt(i-1)) {
                count++;
            }else {
                res = (res+(long)count*(count+1)/2)%MOD;
                count=1;
            }
        }

        res = (res + ((long)count*(count+1)/2))%MOD;

        return (int)res;
    }
}

/*
    to optimize this problem I need to convert my approach to 
    "how many times this substring x occures in all other substrings"

    s = "abbcccaa"
    b!=a -> res = 1 (count=1)
    b==b -> count=2
    b!=c -> res = 1 + 2 = 3
    c==c -> count=3
    c==c -> count=3
    a!=c -> res = 3 + 6 = 9
    a==a -> count=4
    finally -> 9 + 4*2 = 17
 */
